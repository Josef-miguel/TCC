{% extends "base.html" %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0">{{ evento.destino }}</h2>
                    <small class="text-white-50">Visualizações: {{ evento.n_acessos }}</small>
                </div>

                <div class="card-body">
                    <!-- Imagem do evento -->
                    <div class="text-center mb-4">
                        <img src="{{ url_for('static', filename='img/eventos/' + evento.id_evento|string + '.jpg') }}"
                            onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80'"
                            class="img-fluid rounded" alt="{{ evento.destino }}"
                            style="max-height: 300px; object-fit: cover;">
                    </div>

                    <!-- Informações básicas -->
                    <div class="mb-4">
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong><i class="fas fa-map-marker-alt"></i> Local de Saída:</strong>
                                    {{ evento.local_saida }}</p>
                            </div>
                            <div class="col-md-6">
                                <p><strong><i class="fas fa-calendar-day"></i> Data de Saída:</strong>
                                    {{ evento.data_de_saida.strftime('%d/%m/%Y às %H:%M') if evento.data_de_saida else
                                    'Não definida' }}</p>
                            </div>
                        </div>

                        <div class="row mt-3">
                            <div class="col-md-6">
                                <p><strong><i class="fas fa-tag"></i> Preço:</strong>
                                    R$ {{ "%.2f"|format(evento.preco) if evento.preco else '0,00' }}</p>
                            </div>
                            <div class="col-md-6">
                                <p><strong><i class="fas fa-users"></i> Vagas:</strong>
                                    {{ evento.n_vagas }}</p>
                            </div>
                        </div>

                        {% if evento.descricao %}
                        <div class="mt-4">
                            <h5><i class="fas fa-align-left"></i> Descrição:</h5>
                            <div class="p-3 bg-light rounded">
                                {{ evento.descricao|safe }}
                            </div>
                        </div>
                        {% endif %}
                    </div>

                    <!-- Botão Voltar -->
                    <div class="mt-4 border-top pt-3">
                        <a href="{{ url_for('routes.eventos') }}" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i> Voltar
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}